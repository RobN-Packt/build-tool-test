(()=>{var e={};e.id=345,e.ids=[345],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8083:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(4069),r(7802),r(7572);var n=r(8808),o=r(7921),s=r(7696),i=r.n(s),a=r(8837),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let d=["",{children:["admin",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,4069)),"/workspace/apps/web/app/admin/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,7802)),"/workspace/apps/web/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,7572,23)),"next/dist/client/components/not-found-error"]}],c=["/workspace/apps/web/app/admin/new/page.tsx"],u="/admin/new/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/admin/new/page",pathname:"/admin/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4926:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,250,23))},5796:(e,t,r)=>{Promise.resolve().then(r.bind(r,4410))},188:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9559,23)),Promise.resolve().then(r.t.bind(r,2444,23)),Promise.resolve().then(r.t.bind(r,2313,23)),Promise.resolve().then(r.t.bind(r,8458,23)),Promise.resolve().then(r.t.bind(r,374,23)),Promise.resolve().then(r.t.bind(r,9218,23))},4410:(e,t,r)=>{"use strict";r.d(t,{NewBookForm:()=>x});var n=r(3188),o=r(1653),s=r(1428);let i={"Content-Type":"application/json"},a=/\{[^{}]+\}/g;class l extends Request{constructor(e,t){for(let r in super(e,t),t)r in this||(this[r]=t[r])}}function d(e,t,r){if(null==t)return"";if("object"==typeof t)throw Error("Deeply-nested arrays/objects aren’t supported. Provide your own `querySerializer()` to handle these.");return`${e}=${r?.allowReserved===!0?t:encodeURIComponent(t)}`}function c(e,t,r){if(!t||"object"!=typeof t)return"";let n=[],o={simple:",",label:".",matrix:";"}[r.style]||"&";if("deepObject"!==r.style&&!1===r.explode){for(let e in t)n.push(e,!0===r.allowReserved?t[e]:encodeURIComponent(t[e]));let o=n.join(",");switch(r.style){case"form":return`${e}=${o}`;case"label":return`.${o}`;case"matrix":return`;${e}=${o}`;default:return o}}for(let o in t){let s="deepObject"===r.style?`${e}[${o}]`:o;n.push(d(s,t[o],r))}let s=n.join(o);return"label"===r.style||"matrix"===r.style?`${o}${s}`:s}function u(e,t,r){if(!Array.isArray(t))return"";if(!1===r.explode){let n={form:",",spaceDelimited:"%20",pipeDelimited:"|"}[r.style]||",",o=(!0===r.allowReserved?t:t.map(e=>encodeURIComponent(e))).join(n);switch(r.style){case"simple":return o;case"label":return`.${o}`;case"matrix":return`;${e}=${o}`;default:return`${e}=${o}`}}let n={simple:",",label:".",matrix:";"}[r.style]||"&",o=[];for(let n of t)"simple"===r.style||"label"===r.style?o.push(!0===r.allowReserved?n:encodeURIComponent(n)):o.push(d(e,n,r));return"label"===r.style||"matrix"===r.style?`${n}${o.join(n)}`:o.join(n)}function p(e){return function(t){let r=[];if(t&&"object"==typeof t)for(let n in t){let o=t[n];if(null!=o){if(Array.isArray(o)){r.push(u(n,o,{style:"form",explode:!0,...e?.array,allowReserved:e?.allowReserved||!1}));continue}if("object"==typeof o){r.push(c(n,o,{style:"deepObject",explode:!0,...e?.object,allowReserved:e?.allowReserved||!1}));continue}r.push(d(n,o,e))}}return r.join("&")}}function h(e){return JSON.stringify(e)}function f(...e){let t=new Headers;for(let r of e)if(r&&"object"==typeof r)for(let[e,n]of r instanceof Headers?r.entries():Object.entries(r))if(null===n)t.delete(e);else if(Array.isArray(n))for(let r of n)t.append(e,r);else void 0!==n&&t.set(e,n);return t}let m=function(e){let{baseUrl:t="",fetch:r=globalThis.fetch,querySerializer:n,bodySerializer:o,headers:s,...m}={...e};t.endsWith("/")&&(t=t.substring(0,t.length-1)),s=f(i,s);let y=[];async function b(e,i){var b;let x,g;let{fetch:j=r,headers:w,params:v={},parseAs:P="json",querySerializer:k,bodySerializer:R=o??h,...S}=i||{},C="function"==typeof n?n:p(n);k&&(C="function"==typeof k?k:p({..."object"==typeof n?n:{},...k}));let q={redirect:"follow",...m,...S,headers:f(s,w,v.header)};q.body&&(q.body=R(q.body)),q.body instanceof FormData&&q.headers.delete("Content-Type");let A=new l((b={baseUrl:t,params:v,querySerializer:C},x=`${b.baseUrl}${e}`,b.params?.path&&(x=function(e,t){let r=e;for(let n of e.match(a)??[]){let e=n.substring(1,n.length-1),o=!1,s="simple";if(e.endsWith("*")&&(o=!0,e=e.substring(0,e.length-1)),e.startsWith(".")?(s="label",e=e.substring(1)):e.startsWith(";")&&(s="matrix",e=e.substring(1)),!t||void 0===t[e]||null===t[e])continue;let i=t[e];if(Array.isArray(i)){r=r.replace(n,u(e,i,{style:s,explode:o}));continue}if("object"==typeof i){r=r.replace(n,c(e,i,{style:s,explode:o}));continue}if("matrix"===s){r=r.replace(n,`;${d(e,i)}`);continue}r=r.replace(n,"label"===s?`.${i}`:i)}return r}(x,b.params.path)),(g=b.querySerializer(b.params.query??{})).startsWith("?")&&(g=g.substring(1)),g&&(x+=`?${g}`),x),q),E={baseUrl:t,fetch:j,parseAs:P,querySerializer:C,bodySerializer:R};for(let t of y)if(t&&"object"==typeof t&&"function"==typeof t.onRequest){A.schemaPath=e,A.params=v;let r=await t.onRequest(A,E);if(r){if(!(r instanceof Request))throw Error("Middleware must return new Request() when modifying the request");A=r}}let $=await j(A);for(let t=y.length-1;t>=0;t--){let r=y[t];if(r&&"object"==typeof r&&"function"==typeof r.onResponse){A.schemaPath=e,A.params=v;let t=await r.onResponse($,E,A);if(t){if(!(t instanceof Response))throw Error("Middleware must return new Response() when modifying the response");$=t}}}if(204===$.status||"0"===$.headers.get("Content-Length"))return $.ok?{data:{},response:$}:{error:{},response:$};if($.ok)return"stream"===P?{data:$.body,response:$}:{data:await $[P](),response:$};let T=await $.text();try{T=JSON.parse(T)}catch{}return{error:T,response:$}}return{GET:async(e,t)=>b(e,{...t,method:"GET"}),PUT:async(e,t)=>b(e,{...t,method:"PUT"}),POST:async(e,t)=>b(e,{...t,method:"POST"}),DELETE:async(e,t)=>b(e,{...t,method:"DELETE"}),OPTIONS:async(e,t)=>b(e,{...t,method:"OPTIONS"}),HEAD:async(e,t)=>b(e,{...t,method:"HEAD"}),PATCH:async(e,t)=>b(e,{...t,method:"PATCH"}),TRACE:async(e,t)=>b(e,{...t,method:"TRACE"}),use(...e){for(let t of e)if(t){if("object"!=typeof t||!("onRequest"in t||"onResponse"in t))throw Error("Middleware must be an object with one of `onRequest()` or `onResponse()`");y.push(t)}},eject(...e){for(let t of e){let e=y.indexOf(t);-1!==e&&y.splice(e,1)}}}}({baseUrl:process.env.NEXT_PUBLIC_API_BASE_URL?.replace(/\/$/,"")??"http://localhost:8080"});async function y(e){let{data:t,error:r}=await m.POST("/books",{body:e});if(r)throw Error(r&&"object"==typeof r&&"message"in r&&"string"==typeof r.message?r.message:r&&"object"==typeof r&&"detail"in r&&"string"==typeof r.detail?r.detail:"Unknown error");return t}let b={title:"",author:"",price:"",currency:"USD",stock:""};function x(){let e=(0,s.useRouter)(),[t,r]=(0,o.useState)(b),[i,a]=(0,o.useState)(!1),[l,d]=(0,o.useState)(null),c=e=>{let{name:t,value:n}=e.target;r(e=>({...e,[t]:n}))},u=async n=>{n.preventDefault(),d(null),a(!0);try{let n={title:t.title.trim(),author:t.author.trim(),price:Number(t.price),currency:t.currency.trim().toUpperCase(),stock:Number(t.stock)};await y(n),r(b),e.push("/")}catch(e){d(e instanceof Error?e.message:"Failed to create book.")}finally{a(!1)}};return(0,n.jsxs)("form",{onSubmit:u,style:{maxWidth:480,display:"grid",gap:"1rem"},children:[(0,n.jsxs)("div",{children:[n.jsx("label",{htmlFor:"title",children:"Title"}),n.jsx("input",{id:"title",name:"title",type:"text",required:!0,value:t.title,onChange:c,placeholder:"Book title"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{htmlFor:"author",children:"Author"}),n.jsx("input",{id:"author",name:"author",type:"text",required:!0,value:t.author,onChange:c,placeholder:"Author name"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{htmlFor:"price",children:"Price"}),n.jsx("input",{id:"price",name:"price",type:"number",min:"0",step:"0.01",required:!0,value:t.price,onChange:c,placeholder:"0.00"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{htmlFor:"currency",children:"Currency"}),n.jsx("input",{id:"currency",name:"currency",type:"text",required:!0,maxLength:3,value:t.currency,onChange:c,placeholder:"USD"})]}),(0,n.jsxs)("div",{children:[n.jsx("label",{htmlFor:"stock",children:"Stock"}),n.jsx("input",{id:"stock",name:"stock",type:"number",min:"0",required:!0,value:t.stock,onChange:c,placeholder:"0"})]}),l?n.jsx("p",{role:"alert",style:{color:"crimson"},children:l}):null,n.jsx("button",{type:"submit",disabled:i,children:i?"Saving…":"Create Book"})]})}},4069:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>s});var n=r(5143);let o=(0,r(1675).createProxy)(String.raw`/workspace/apps/web/components/NewBookForm.tsx#NewBookForm`),s={title:"Create Book — Book Store"};function i(){return(0,n.jsxs)("section",{style:{display:"grid",gap:"1.5rem"},children:[(0,n.jsxs)("header",{children:[n.jsx("h1",{children:"Create a new book"}),n.jsx("p",{style:{color:"#4b5563"},children:"Provide the book details below. All fields are required."})]}),n.jsx(o,{})]})}},7802:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i,metadata:()=>s});var n=r(5143),o=r(2109);r(1367);let s={title:"Book Store",description:"Simple book catalog powered by Huma API"};function i({children:e}){return n.jsx("html",{lang:"en",children:(0,n.jsxs)("body",{style:{margin:0,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, sans-serif',backgroundColor:"#f7f7f8"},children:[(0,n.jsxs)("header",{style:{backgroundColor:"#ffffff",borderBottom:"1px solid #e5e5e5",padding:"1rem 2rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[n.jsx(o.default,{href:"/",style:{fontSize:"1.25rem",fontWeight:600,textDecoration:"none"},children:"Book Store"}),(0,n.jsxs)("nav",{style:{display:"flex",gap:"1rem"},children:[n.jsx(o.default,{href:"/",children:"Home"}),n.jsx(o.default,{href:"/admin/new",children:"New Book"})]})]}),n.jsx("main",{style:{padding:"2rem",maxWidth:960,margin:"0 auto"},children:e})]})})}},1367:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[198],()=>r(8083));module.exports=n})();